import{_ as k,d as y,E as r,L as C,h as g,j as e,w as a,F as D,J as E,v as b,o as s,p as i,q as f,k as I,u as T,K as Y,s as c}from"./index-f6951b29.js";/* empty css               */import{h as V}from"./moment-fbc5633a.js";const h=y({data(){return{department:{createTime:"",deleted:0,departCode:"",departDesc:"",departName:"",departType:"",id:0,schoolId:0,updateTime:""},rules:{},admin:!1}},mounted(){JSON.parse(localStorage.getItem("admin"))?this.admin=JSON.parse(localStorage.getItem("admin")):this.admin=!1},methods:{req(){r("等待管理员审核")},add(){const t=this.department;this.getdata(),C(t).then(l=>{r("添加成功")}).catch(l=>{r("添加失败"),console.log(l)})},getdata(){this.createTime=V().format("YYYY-MM-DD HH:mm:ss"),this.updateTime=V().format("YYYY-MM-DD HH:mm:ss")}}});function N(t,l,w,U,M,B){const n=I,m=T,o=Y,p=E,_=b,u=c;return s(),g(D,null,[e(_,{"label-width":"100px",model:t.department,style:{"max-width":"800px"},rules:t.rules},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{span:12},{default:a(()=>[e(m,{label:"部门编号"},{default:a(()=>[e(n,{modelValue:t.department.id,"onUpdate:modelValue":l[0]||(l[0]=d=>t.department.id=d)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(m,{label:"学校ID"},{default:a(()=>[e(n,{modelValue:t.department.schoolId,"onUpdate:modelValue":l[1]||(l[1]=d=>t.department.schoolId=d)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(o,{span:12},{default:a(()=>[e(m,{label:"部门名"},{default:a(()=>[e(n,{modelValue:t.department.departName,"onUpdate:modelValue":l[2]||(l[2]=d=>t.department.departName=d)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(m,{label:"部门英文名"},{default:a(()=>[e(n,{modelValue:t.department.departCode,"onUpdate:modelValue":l[3]||(l[3]=d=>t.department.departCode=d)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(o,{span:12},{default:a(()=>[e(m,{label:"部门描述"},{default:a(()=>[e(n,{modelValue:t.department.departDesc,"onUpdate:modelValue":l[4]||(l[4]=d=>t.department.departDesc=d)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(m,{label:"部门类别"},{default:a(()=>[e(n,{modelValue:t.department.departType,"onUpdate:modelValue":l[5]||(l[5]=d=>t.department.departType=d)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(p,{justify:"center"},{default:a(()=>[e(o,{span:4},{default:a(()=>[t.admin?(s(),i(u,{key:0,link:"",type:"primary",onClick:t.add},{default:a(()=>[f("确认添加")]),_:1},8,["onClick"])):(s(),i(u,{key:1,link:"",type:"primary",onClick:t.req},{default:a(()=>[f("申请创建")]),_:1},8,["onClick"]))]),_:1})]),_:1})],64)}const $=k(h,[["render",N]]);export{$ as default};
